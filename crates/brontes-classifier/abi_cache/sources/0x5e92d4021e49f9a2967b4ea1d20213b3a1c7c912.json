{"expiry":1699513245,"data":[{"SourceCode":{"language":"Solidity","sources":{"contracts/helpers/PrioirityFeeLimiter.sol":{"content":"// SPDX-License-Identifier: MIT\n\npragma solidity 0.8.19;\n\n/// @title A helper contract for executing boolean functions on arbitrary target call results\ncontract PriorityFeeLimiter {\n    /// @notice Validates priority fee according to the spec\n    /// https://snapshot.org/#/1inch.eth/proposal/0xa040c60050147a0f67042ae024673e92e813b5d2c0f748abf70ddfa1ed107cbe\n    /// For blocks with baseFee <10.6 gwei – the priorityFee is capped at 70% of the baseFee.\n    /// For blocks with baseFee between 10.6 gwei and 104.1 gwei – the priorityFee is capped at 50% of the baseFee.\n    /// For blocks with baseFee >104.1 gwei – priorityFee is capped at 65% of the block’s baseFee.\n    function isPriorityFeeValid() public view returns(bool) {\n        unchecked {\n            uint256 baseFee = block.basefee;\n            uint256 priorityFee = tx.gasprice - baseFee;\n\n            if (baseFee < 10.6 gwei) {\n                return priorityFee * 100 <= baseFee * 70;\n            } else if (baseFee < 104.1 gwei) {\n                return priorityFee * 2 <= baseFee;\n            } else {\n                return priorityFee * 100 <= baseFee * 65;\n            }\n        }\n    }\n}\n"}},"settings":{"libraries":{},"metadata":{"useLiteralContent":true},"optimizer":{"enabled":true,"runs":1000000},"outputSelection":{"*":{"*":["evm.bytecode","evm.deployedBytecode","devdoc","userdoc","metadata","abi"]}},"viaIR":true}},"ABI":"[{\"inputs\":[],\"name\":\"isPriorityFeeValid\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"}]","ContractName":"PriorityFeeLimiter","CompilerVersion":"v0.8.19+commit.7dd6d404","OptimizationUsed":1,"Runs":1000000,"ConstructorArguments":"0x","EVMVersion":"Default","Library":"","LicenseType":"","Proxy":0,"SwarmSource":""}]}