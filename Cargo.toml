[workspace]
members = [
  "crates/bin",
  "crates/brontes-core",
  "crates/reth-tracing-ext",
  "crates/brontes-inspect",
  "crates/brontes-types",
  "crates/brontes-classifier",
  "crates/brontes-metrics",
  "crates/brontes-tracing",
  "crates/brontes-database",
  "crates/brontes-macros",
  "crates/brontes-pricing",
]

resolver = "2"

[workspace.dependencies]
# Database
sorella-db-databases = { git = "https://github.com/SorellaLabs/Database", branch = "main" }
clickhouse = { git = "https://github.com/SorellaLabs/clickhouse.rs" }

# Poirot
brontes-core = { path = "./crates/brontes-core" }
brontes-inspect = { path = "./crates/brontes-inspect" }
brontes-types = { path = "./crates/brontes-types/" }
brontes-classifier = { path = "./crates/brontes-classifier/" }
brontes-metrics = { path = "./crates/brontes-metrics/" }
brontes-database = { path = "./crates/brontes-database/" }
brontes-macros = { path = "./crates/brontes-macros/" }
brontes-pricing = { path = "./crates/brontes-pricing/" }
reth-tracing-ext = { path = "./crates/reth-tracing-ext/" }
brontes-tracing = { path = "./crates/brontes-tracing" }

# Reth
reth-node-ethereum = { git = "https://github.com/paradigmxyz/reth", package = "reth-node-ethereum", rev = "cc1c02a" }
reth-tasks = { git = "https://github.com/paradigmxyz/reth", package = "reth-tasks", rev = "cc1c02a" }
reth-rpc = { git = "https://github.com/paradigmxyz/reth", package = "reth-rpc", rev = "cc1c02a" }
reth-rpc-api = { git = "https://github.com/paradigmxyz/reth", package = "reth-rpc-api", rev = "cc1c02a" }
reth-rpc-types = { git = "https://github.com/paradigmxyz/reth", package = "reth-rpc-types", rev = "cc1c02a" }
reth-rpc-builder = { git = "https://github.com/paradigmxyz/reth", package = "reth-rpc-builder", rev = "cc1c02a" }
reth-provider = { git = "https://github.com/paradigmxyz/reth", package = "reth-provider", rev = "cc1c02a" }
reth-transaction-pool = { git = "https://github.com/paradigmxyz/reth", package = "reth-transaction-pool", rev = "cc1c02a" }
reth-network-api = { git = "https://github.com/paradigmxyz/reth", package = "reth-network-api", rev = "cc1c02a" }
reth-primitives = { git = "https://github.com/paradigmxyz/reth", package = "reth-primitives", rev = "cc1c02a" }
reth-db = { git = "https://github.com/paradigmxyz/reth", package = "reth-db", rev = "cc1c02a" }
reth-blockchain-tree = { git = "https://github.com/paradigmxyz/reth", package = "reth-blockchain-tree", rev = "cc1c02a" }
reth-beacon-consensus = { git = "https://github.com/paradigmxyz/reth", package = "reth-beacon-consensus", rev = "cc1c02a" }
reth-revm = { git = "https://github.com/paradigmxyz/reth", package = "reth-revm", rev = "cc1c02a" }
reth-interfaces = { git = "https://github.com/paradigmxyz/reth", package = "reth-interfaces", features = [
  "test-utils",
], rev = "cc1c02a" }
reth-stages = { git = "https://github.com/paradigmxyz/reth", package = "reth-stages", features = [
  "test-utils",
], rev = "cc1c02a" }
reth-trie = { git = "https://github.com/paradigmxyz/reth", package = "reth-trie", rev = "cc1c02a" }
reth-libmdbx = { git = "https://github.com/paradigmxyz/reth", package = "reth-libmdbx", rev = "cc1c02a" }
reth-eth-wire = { git = "https://github.com/paradigmxyz/reth", package = "reth-eth-wire", rev = "cc1c02a" }
reth-payload-builder = { git = "https://github.com/paradigmxyz/reth", package = "reth-payload-builder", rev = "cc1c02a" }
reth-metrics = { git = "https://github.com/paradigmxyz/reth", package = "reth-metrics", rev = "cc1c02a" }
reth-codecs = { git = "https://github.com/paradigmxyz/reth", package = "reth-codecs", rev = "cc1c02a" }
codecs-derive = { git = "https://github.com/paradigmxyz/reth", package = "codecs-derive", rev = "cc1c02a" }

# ruint
ruint = "1.9.0"

# revm
revm = { git = "https://github.com/bluealloy/revm", branch = "main", features = [
  "std",
  "secp256k1",
], default-features = false }
revm-primitives = { git = "https://github.com/bluealloy/revm", branch = "main", features = [
  "std",
], default-features = false }



# Alloy
alloy-sol-types = { version = "0.6.0", features = ["json"] }
alloy-sol-macro = { version = "0.6.0", features = ["json"] }
alloy-rlp = { version = "0.3.4" }
alloy-rlp-derive = { version = "0.3.4" }
alloy-primitives = { version = "0.6.0", features = ["rlp"] }
alloy-json-abi = "0.6.0"
alloy-dyn-abi = "0.6.0 "
# Alloy core

alloy-providers = { git = "https://github.com/alloy-rs/alloy.git", rev = "098ad56" }
alloy-transport-http = { git = "https://github.com/alloy-rs/alloy.git", rev = "098ad56" }
alloy-transport = { git = "https://github.com/alloy-rs/alloy.git", rev = "098ad56" }
alloy-network = { git = "https://github.com/alloy-rs/alloy.git", rev = "098ad56" }
alloy-json-rpc = { git = "https://github.com/alloy-rs/alloy.git", rev = "098ad56" }
alloy-rpc-types = { git = "https://github.com/alloy-rs/alloy.git", rev = "098ad56" }
alloy-rpc-client = { git = "https://github.com/alloy-rs/alloy.git", rev = "098ad56" }

# Async
tokio = "1.13.0"
futures = "0.3.28"
async-trait = "0.1.73"

#Tracing
tracing = "0.1.37"
tracing-subscriber = { version = "0.3.17", default-features = false, features = [
  "env-filter",
  "fmt",
] }
colored = "2.0"

# Metrics
metrics-exporter-prometheus = "=0.12.1"
metrics-util = "0.15.0"
metrics-process = "=1.0.14"

# Logging
env_logger = "0.10.0"

# error handling
thiserror = "1.0.44"
eyre = "0.6.8"

# http/rpc
hyper = "0.14.25"
hyper-tls = "0.5.0"
reqwest = "0.11.22"

# Serde
serde = "1.0.171"
serde_json = "1.0.1"
serde_with = "3.4.0"
serde_repr = "0.1.16"


# Numbers
malachite = "0.4.0"

# phf
phf = "0.11.2"
phf_codegen = "0.11.2"

# metrics
metrics = "0.21.1"

# misc
c-kzg = "0.4.0"
hex-literal = "0.4.1"
rayon = "1.7.0"
dotenv = "0.15.0"
semver = "1.0"
lazy_static = "1.4.0"
once_cell = "1.18.0"
itertools = "0.11.0"
parking_lot = "0.12.1"
toml = "0.8.2"
auto_impl = "1.1.0"
strum = "0.25.0"
serial_test = "2.0.0"
derive_more = "0.99.17"
rkyv = { git = "https://github.com/rkyv/rkyv.git", branch = "0.7-hashbrown-0.14", features = [
  "validation",
] }
num_cpus = "1.16.0"
redefined = { git = "https://github.com/SorellaLabs/redefined" }
bytes = "1.5"

[profile.dev]
opt-level = 0           # No optimizations
debug = true            # Generate debug information
rpath = false           # Don't set the rpath in executables
lto = false             # No link-time optimization
debug-assertions = true # Enable assertions in debug mode
codegen-units = 16      # Increase parallel code generation units for faster compiles
incremental = true      # Enable incremental compilation
